ARRIVAL LOGOGLYPH GENERATOR
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advanced Drawing Tool</title>
  <style>
    body { font-family: Arial, sans-serif; display: flex; flex-direction: column; align-items: center; }
    .toolbar, .layer-panel { display: flex; gap: 10px; margin: 10px; }
    .canvas-container { position: relative; }
    canvas { border: 1px solid #ddd; }
    .layer { display: flex; align-items: center; }
    .layer input { margin-right: 5px; }
  </style>
</head>
<body>

<h1>Advanced Drawing Tool</h1>

<div class="toolbar">
  <button onclick="addLayer()">Add Layer</button>
  <button onclick="undo()">Undo</button>
  <button onclick="redo()">Redo</button>
  <button onclick="exportImage()">Export</button>
</div>

<div class="brush-tools toolbar">
  <label>Brush Size: <input type="range" min="1" max="20" value="5" id="brushSize" onchange="updateBrushSize()"></label>
  <label>Color: <input type="color" id="colorPicker" value="#000000" onchange="updateColor()"></label>
  <button onclick="setBrushType('pencil')">Pencil</button>
  <button onclick="setBrushType('ink')">Ink</button>
  <button onclick="setBrushType('eraser')">Eraser</button>
</div>

<div class="shape-tools toolbar">
  <button onclick="addShape('circle')">Circle</button>
  <button onclick="addShape('rectangle')">Rectangle</button>
  <button onclick="addText()">Text</button>
</div>

<div class="canvas-container" id="canvasContainer"></div>

<div class="layer-panel">
  <h3>Layers</h3>
  <div id="layers"></div>
</div>

<script>
  const layers = [];
  const history = [];
  let currentLayer;
  let brushSize = 5;
  let brushColor = "#000000";
  let brushType = "pencil";  // Options: pencil, ink, eraser

  // Initialize base canvas layer
  window.onload = () => addLayer();

  // Layer management functions
  function addLayer() {
    const canvas = document.createElement("canvas");
    canvas.width = 800;
    canvas.height = 600;
    canvas.style.position = "absolute";
    canvas.style.zIndex = layers.length;
    canvas.className = "drawing-layer";
    canvas.getContext("2d").fillStyle = "white";
    canvas.getContext("2d").fillRect(0, 0, canvas.width, canvas.height);
    document.getElementById("canvasContainer").appendChild(canvas);
    layers.push(canvas);
    currentLayer = canvas;
    addLayerToPanel();
  }

  function addLayerToPanel() {
    const layerContainer = document.createElement("div");
    layerContainer.className = "layer";
    const layerCheckbox = document.createElement("input");
    layerCheckbox.type = "checkbox";
    layerCheckbox.checked = true;
    layerCheckbox.onchange = (e) => toggleLayerVisibility(e.target, layers.length - 1);
    const layerLabel = document.createElement("label");
    layerLabel.textContent = `Layer ${layers.length}`;
    layerContainer.appendChild(layerCheckbox);
    layerContainer.appendChild(layerLabel);
    document.getElementById("layers").appendChild(layerContainer);
  }

  function toggleLayerVisibility(checkbox, layerIndex) {
    layers[layerIndex].style.display = checkbox.checked ? "block" : "none";
  }

  // Brush and Drawing Functions
  function updateBrushSize() {
    brushSize = document.getElementById("brushSize").value;
  }

  function updateColor() {
    brushColor = document.getElementById("colorPicker").value;
  }

  function setBrushType(type) {
    brushType = type;
  }

  function draw(e) {
    if (!e.buttons) return; // Only draw when mouse is pressed
    const ctx = currentLayer.getContext("2d");
    ctx.fillStyle = brushColor;
    ctx.strokeStyle = brushColor;
    ctx.lineWidth = brushSize;

    if (brushType === "eraser") ctx.globalCompositeOperation = "destination-out";
    else ctx.globalCompositeOperation = "source-over";

    ctx.beginPath();
    ctx.arc(e.offsetX, e.offsetY, brushSize / 2, 0, Math.PI * 2);
    ctx.fill();
  }

  currentLayer.addEventListener("mousemove", draw);

  // Shape and Text Tools
  function addShape(shape) {
    const ctx = currentLayer.getContext("2d");
    ctx.fillStyle = brushColor;
    ctx.lineWidth = brushSize;

    if (shape === "circle") {
      ctx.beginPath();
      ctx.arc(100, 100, 50, 0, Math.PI * 2);
      ctx.fill();
    } else if (shape === "rectangle") {
      ctx.fillRect(100, 100, 100, 50);
    }
    saveState();
  }

  function addText() {
    const text = prompt("Enter text:");
    if (text) {
      const ctx = currentLayer.getContext("2d");
      ctx.fillStyle = brushColor;
      ctx.font = `${brushSize * 5}px Arial`;
      ctx.fillText(text, 100, 100);
      saveState();
    }
  }

  // Undo/Redo Functionality
  function saveState() {
    if (history.length >= 10) history.shift(); // Limit history to 10 states
    history.push(currentLayer.toDataURL());
  }

  function undo() {
    if (history.length === 0) return;
    const lastState = history.pop();
    const img = new Image();
    img.src = lastState;
    img.onload = () => {
      const ctx = currentLayer.getContext("2d");
      ctx.clearRect(0, 0, currentLayer.width, currentLayer.height);
      ctx.drawImage(img, 0, 0);
    };
  }

  function redo() {
    // Implement redo logic if needed
  }

  // Export Functionality
  function exportImage() {
    const exportCanvas = document.createElement("canvas");
    exportCanvas.width = currentLayer.width;
    exportCanvas.height = currentLayer.height;
    const ctx = exportCanvas.getContext("2d");

    layers.forEach(layer => {
      if (layer.style.display !== "none") {
        ctx.drawImage(layer, 0, 0);
      }
    });

    const link = document.createElement("a");
    link.download = "drawing.png";
    link.href = exportCanvas.toDataURL("image/png");
    link.click();
  }
</script>

</body>
</html>
